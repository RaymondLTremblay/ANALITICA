---
title: "Transformation"
author: "RLT"
date: "11/8/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(eval = FALSE, include = FALSE)
```


Este modulo es para introducir el concepto de transformación de datos para normalizar estos.

# Transformación BoxCox

Información detallada sobre la transformación BoxCox se puede encontrar en la siguiente pagina

See this website.  Clear explanation.  

<http://www.css.cornell.edu/faculty/dgr2/_static/files/R_html/Transformations.html>





<https://www.rdocumentation.org/packages/EnvStats/versions/2.4.0/topics/boxcox>

1. Preparamos un set de datos que no tiene una distribución normal. En el primer ejemplo los datos tienen una distribución log normal. 


```{r eval=FALSE, include=FALSE}
library(EnvStats)
x <- rlnormAlt(100, mean = 100, cv = 2) 
dfx=data_frame(x)
dfx
library(tidyverse)

ggplot(dfx, aes(x))+
  geom_histogram(colour="white")

ggplot(dfx, aes(sample=x))+
geom_qq()+
geom_qq_line()


```

Ahora aplicamos la transformación de BoxCox

```{r eval=FALSE, include=FALSE}
Tr=boxcox(x, objective.name = "Log-Likelihood")
Tr
dfx$bctrans=Tr$data
head(dfx)

ggplot(dfx, aes(bctrans))+
  geom_histogram(colour="white")

ggplot(dfx, aes(sample=bctrans))+
geom_qq()+
geom_qq_line()
+
  geom_qq(dfx, aes(sample=x))
```




